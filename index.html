<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stopwatch</title>
    <style>
    body {
      background: #f4f4f4;
      font-family: Arial, sans-serif;
      color: #333;
      text-align: center;
      margin: 0;
      padding: 20px;
    }

    .container {
      background: white;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 30px 20px;
      max-width: 500px;
      margin: auto;
    }

    h1 {
      color: #007acc;
      font-size: 28px;
      margin-bottom: 20px;
    }

    .timer-display {
      font-size: 36px;
      font-weight: bold;
      margin-bottom: 20px;
      color: #222;
    }

    .controls {
      margin-bottom: 20px;
    }

    .btn {
      padding: 10px 20px;
      margin: 8px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      color: white;
      cursor: pointer;
    }

    .start {
      background-color: #28a745;
    }

    .pause {
      background-color: #ffc107;
      color: black;
    }

    .reset {
      background-color: #dc3545;
    }

    .lap {
      background-color: #17a2b8;
    }

    .laps {
      text-align: left;
      background: #fafafa;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 6px;
      max-height: 250px;
      overflow-y: auto;
    }

    .laps h2 {
      font-size: 18px;
      color: #007acc;
      border-bottom: 1px solid #ccc;
      padding-bottom: 5px;
      margin-bottom: 10px;
    }

    #lapList {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    #lapList li {
      background: #e7f3ff;
      border-left: 5px solid #007acc;
      padding: 10px;
      margin-bottom: 8px;
      font-size: 14px;
      border-radius: 4px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Stopwatch</h1>
    <div class="timer-display" id="display">00:00:00:00</div>

    <div class="controls">
      <button id="start" class="btn start">Start</button>
      <button id="pause" class="btn pause">Pause</button>
      <button id="reset" class="btn reset">Reset</button>
      <button id="lap" class="btn lap">Lap</button>
    </div>

    <div class="laps">
      <h2>Lap Times</h2>
      <ul id="lapList"></ul>
    </div>
  </div>

<script>
  let [ms, s, m, h] = [0, 0, 0, 0];
  let display = document.getElementById("display");
  let interval = null;

  const startBtn = document.getElementById("start");
  const pauseBtn = document.getElementById("pause");
  const resetBtn = document.getElementById("reset");
  const lapBtn = document.getElementById("lap");
  const lapList = document.getElementById("lapList");

  let lastLapTime = 0;

  function getTotalMilliseconds() {
    return h * 3600000 + m * 60000 + s * 1000 + ms * 10;
  }

  function formatTime(msTotal) {
    let hours = Math.floor(msTotal / 3600000);
    let minutes = Math.floor((msTotal % 3600000) / 60000);
    let seconds = Math.floor((msTotal % 60000) / 1000);
    let milliseconds = Math.floor((msTotal % 1000) / 10);

    // ✅ Use backticks for template literals
    return `${hours.toString().padStart(2, '0')}:` +
           `${minutes.toString().padStart(2, '0')}:` +
           `${seconds.toString().padStart(2, '0')}:` +
           `${milliseconds.toString().padStart(2, '0')}`;
  }

  function updateDisplay() {
    display.innerText = formatTime(getTotalMilliseconds());
  }

  function stopwatch() {
    ms += 1;
    if (ms === 100) {
      ms = 0;
      s++;
      if (s === 60) {
        s = 0;
        m++;
        if (m === 60) {
          m = 0;
          h++;
        }
      }
    }
    updateDisplay();
  }

  startBtn.onclick = () => {
    if (interval !== null) clearInterval(interval);
    interval = setInterval(stopwatch, 10);
  };

  pauseBtn.onclick = () => {
    clearInterval(interval);
  };

  resetBtn.onclick = () => {
    clearInterval(interval);
    [ms, s, m, h] = [0, 0, 0, 0];
    lastLapTime = 0;
    updateDisplay();
    lapList.innerHTML = "";
  };

  lapBtn.onclick = () => {
    const currentLapMs = getTotalMilliseconds();
    const lapDiff = currentLapMs - lastLapTime;
    lastLapTime = currentLapMs;

    const li = document.createElement("li");
    // ✅ Use backticks here too
    li.innerHTML = `Total: ${formatTime(currentLapMs)} | Interval: ${formatTime(lapDiff)}`;
    lapList.insertBefore(li, lapList.firstChild);
  };
</script>

</body>

</html>
